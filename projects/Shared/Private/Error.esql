BROKER SCHEMA Private


CREATE COMPUTE MODULE Error

	CREATE FUNCTION Main() RETURNS BOOLEAN

	BEGIN

		SET Environment.Shared.MsgId = COALESCE(Environment.Shared.MsgId, UUIDASCHAR);
		
		SET OutputRoot.XMLNSC.Error.Text = 'An error occured, Error ID is: ' || Environment.Shared.MsgId;

		IF Environment.Shared.MessageType = 'request' THEN
			PROPAGATE TO LABEL 'Reply-' || Environment.Shared.TransportType;
		ELSE
			PROPAGATE TO LABEL 'Abort';
		END IF;
		
		RETURN FALSE;

	END;

END MODULE;